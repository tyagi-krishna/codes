<!DOCTYPE html>
<html>
    <head>
        <title>search company</title>
        <style>
            header {searchWord = document.getElementById('search').value;
            window.location.href = `https://query1.finance.yahoo.com/v8/finance/chart/${searchWord}.NS`;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
                font-style: italic;
                font-size: 45px;
                text-align: center;
            }
            #search {
                text-align: center;
            }
            form {
                text-align: center;
            }
        </style>
        <script>
            document.addEventListener('DOMContentLoaded' , function() {
                document.querySelector('#foo').onclick = function() {
                    searchword = document.querySelector('#comapny').value;
                    fetch(`http://127.0.0.1:8000/search/${searchword}`)
                    .then(response => response.json())
                    .then(data => {
                        const companyName = data['companyName'];
                        document.querySelector('h1').innerHTML = companyName;
                        const basePrice = data['basePrice'];
                        document.querySelector('#BASEPRICE').innerHTML = basePrice;
                        const averagePrice = data['averagePrice'];
                        document.querySelector('#AVERAGEPRICE').innerHTML = averagePrice;
                        const dayHigh = data['dayHigh'];
                        document.querySelector('#DAYHIGH').innerHTML = dayHigh;
                        const dayLow = data['dayLow'];
                        document.querySelector('#DAYLOW').innerHTML = dayLow;
                        const closePrice = data['closePrice'];
                        document.querySelector('#CLOSEPRICE').innerHTML = closePrice;
                        const pricebandlower = data['pricebandlower'];
                        document.querySelector('#PRICEBANDLOWER').innerHTML = pricebandlower;
                        const pricebandupper = data['pricebandupper'];
                        document.querySelector('#PRICEBANDUPPER').innerHTML = pricebandupper;
                    });
                    return false;avergaePrice
                };
            })
        </script>
    </head>
    <body>
        <header>
            Stocks_Verse 
        </header>
        <hr>
        <div id="search">
            <a href="http://127.0.0.1:8000/">Home</a>
            <a href="http://127.0.0.1:8000/search">Search</a>
            <a href="">About</a>
            <a href="">Credits</a>
        </div> 
        <hr>
        <form>
            <input id="comapny" name="search" type="text" class="query-search" placeholder="Search...">
            <input id='foo' type="submit" value = "View Details"/>
        </form>
        <h1>Symbol</h1>
        <hr>
        <table>
            <tr>
                <td>Company Name</td><td id='COMPANYNAME'>ENTER</td>
            </tr>
            <tr>
                <td>Base Price</td><td id='BASEPRICE'>ENTER</td>
            </tr>
            <tr>
                <td>Price Band Upper</td><td id='PRICEBANDUPPER'>ENTER</td>
            </tr>
            <tr>
                <td>Price Band Lower</td><td id='PRICEBANDLOWER'>ENTER</td>
            </tr>
            <tr>
                <td>Average Price</td><td id='AVERAGEPRICE'>ENTER</td>
            </tr>
            <tr>
                <td>Day High</td><td id='DAYHIGH'>ENTER</td>
            </tr>
            <tr>
                <td>Day Low</td><td id='DAYLOW'>ENTER</td>
            </tr>
            <tr>
                <td>Close Price</td><td id='CLOSEPRICE'>ENTER</td>
            </tr>
        </table>
        <hr>
    </body>
</html>